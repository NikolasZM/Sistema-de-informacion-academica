/* =========================================================
   Variables de tema (colores, tamaños)
   ========================================================= */
:root {
  --sidebar-bg: #0f172a;      /* Fondo del sidebar */
  --sidebar-width: 260px;     /* Ancho del sidebar en desktop */
  --panel: #ffffff;           /* Fondo de tarjetas/barras */
  --border: #e5e7eb;          /* Color de borde sutil */
  --text: #0f172a;            /* Color de texto principal */
  --muted: #6b7280;           /* Texto secundario */
}

/* =========================================================
   Reset/base
   ========================================================= */
* {
  box-sizing: border-box;
}

html,
body,
#root {
  height: 100%;
}

body {
  margin: 0;
  font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif;
  background: #f5f6f8;
  color: var(--text);
}

/* =========================================================
   Layout general:
   - Header arriba
   - Body (sidebar + contenido) abajo
   ========================================================= */
.layout {
  display: flex;             /* Colocamos header y body en columna */
  flex-direction: column;
  height: 100vh;             /* Ocupa alto completo de la ventana */
}

/* =========================================================
   HEADER (barra superior)
   ========================================================= */
.topbar {
  background: var(--panel);
  border-bottom: 1px solid var(--border);
  padding: 10px 16px;
  display: flex;                 /* Izquierda (hamburguesa+marca) / Derecha (logo) */
  align-items: center;
  justify-content: space-between;
  position: sticky;              /* Se mantiene visible al hacer scroll */
  top: 0;
  z-index: 5;
}

/* Bloque izquierdo del header */
.topbar .left {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* Botón hamburguesa (NO tocar funcionalidad) */
.hamburger {
  background: transparent;
  border: 0;
  font-size: 22px;
  cursor: pointer;
  padding: 6px;
  border-radius: 6px;
  transition: background 0.2s, color 0.2s, transform 0.08s;
}
.hamburger:hover { background: rgba(0, 0, 0, 0.05); }
.hamburger:active { transform: scale(0.96); }
.hamburger.active { background: #002066; color: #fff; }

/* Marca del sistema */
.brand-title {
  font-weight: 700;
  color: #002066;
  font-size: 18px;
}

/* Bloque derecho (antes “usuario”): ahora solo el LOGO */
.userbox {
  display: flex;
  align-items: center;
  justify-content: flex-end;     /* empuja el logo a la derecha */
  gap: 10px;
}

/* Si quedara algún texto/rol del usuario, lo ocultamos */
.userbox .meta { display: none; }

/* Avatar (si algún día lo reactivas) */
.avatar { width: 40px; height: 40px; border-radius: 50%; }

/* Logo CETPRO: visible y nítido */
.logo-cetpro {
  height: 36px;                  /* Ajusta 32–40px según prefieras */
  max-width: 220px;
  width: auto;
  object-fit: contain;
  display: block;
  user-select: none;
  image-rendering: auto;
}

/* Responsive */
@media (max-width: 640px){
  .brand-title { display: none; }  /* gana espacio en móvil */
  .logo-cetpro { height: 28px; }
}



/* =========================================================
   BODY (fila: sidebar + contenido)
   ========================================================= */
.body {
  flex: 1;                   /* Ocupa el resto de la pantalla */
  display: flex;             /* Sidebar a la izquierda, contenido a la derecha */
  min-height: 0;             /* Evita desbordes de altura con overflow */
}

/* =========================================================
   SIDEBAR
   ========================================================= */
.sidebar {
  width: var(--sidebar-width);
  background: var(--sidebar-bg);
  color: #e5e7eb;
  flex-shrink: 0;            /* No se encoge al reducir el ancho */
  transition: transform 0.3s ease, width 0.3s ease;  /* Animaciones suaves */
}

/* Lista del menú */
.menu ul {
  list-style: none;
  margin: 0;
  padding: 20px 10px;
}

.menu li {
  margin: 10px 0;
}

.menu a {
  display: flex;             /* Ícono + texto alineados */
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 8px;
  color: #e5e7eb;
  text-decoration: none;
  transition: background 0.2s;
}

.menu a:hover {
  background: rgba(255, 255, 255, 0.08);
}

/* =========================================================
   CONTENIDO (main)
   ========================================================= */
.page {
  flex: 1;                   /* Ocupa todo el ancho disponible */
  padding: 20px;
  overflow: auto;            /* Si el contenido crece, permite scroll */
}

/* =========================================================
   RESPONSIVE
   ========================================================= */

/* ---- MÓVIL (<=768px) ----
   El sidebar se oculta desplazándolo a la izquierda.
   top: 60px lo coloca debajo del header (ajusta si cambias la altura del header).
*/
@media (max-width: 768px) {
  .sidebar {
    position: fixed;
    top: 60px;               /* Debajo del header */
    left: 0;
    bottom: 0;
    transform: translateX(-100%); /* Oculto por defecto */
    z-index: 1000;
  }

  .sidebar.open {
    transform: translateX(0);     /* Visible cuando tiene .open */
  }

  /* Capa oscura para cerrar el menú tocando fuera */
  .overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.4);
    z-index: 900;
  }
}

/* ---- DESKTOP (>=769px) ----
   Mostramos/ocultamos el sidebar alternando display.
   (Esto evita que ocupe espacio cuando está "cerrado"). */
@media (min-width: 769px) {
  .sidebar.open {
    display: block;                /* Abierto: visible */
  }

  .sidebar:not(.open) {
    display: none;                 /* Cerrado: oculto sin ocupar ancho */
  }

  .overlay {
    display: none;                 /* Overlay no se usa en desktop */
  }
}






/* =========================================================
   DASHBOARD ESTUDIANTE — ESTILOS TABLAS  (versión estable)
   =========================================================
   Calificaciones · Asistencias · Cursos
   Sin “saltos” al abrir sub-filas y sin colisiones de columnas.
   ========================================================= */


/* 1 ▸ Tarjeta Período */
.period-card{
  background:#fff;border:1px solid var(--border);border-radius:10px;
  padding:18px 22px;box-shadow:0 1px 3px rgba(0,0,0,.05);max-width:260px;
}
.period-card label{display:block;margin-bottom:6px;font-weight:600;color:#374151;}
.period-card select{width:100%;padding:6px 10px;}

/* 2 ▸ Wrappers (scroll reservado) */
.grades-wrapper,.att-wrapper,.courses-wrapper{
  overflow-x:auto;
  scrollbar-gutter:stable both-edges; /* reserva hueco barra → sin salto */
  min-height:1px;                    /* Firefox */
}

/* 3 ▸ Tablas base */
.grades-table,.att-table,.courses-table{
  width:100%;border-collapse:collapse;min-width:720px;
  background:var(--panel);border:1px solid var(--border);
  border-radius:10px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.05);
  /* table-layout AUTO → respeta ancho encabezados */
}

.grades-table thead th,.att-table thead th,.courses-table thead th{
  background:#f3f4f6;font-weight:700;color:#374151;padding:14px;
  text-align:left;border-bottom:2px solid var(--border);white-space:nowrap;
}

/* ===== CALIFICACIONES ===== */
.grades-page{display:grid;gap:20px;}
.grade-row td{padding:12px 14px;border-bottom:1px solid var(--border);white-space:nowrap;}
.grade-row:hover td{background:#f9fafb;}
.grade-btn{display:flex;align-items:center;gap:6px;padding:8px 10px;border:0;border-radius:8px;
  background:#16a34a;color:#fff;font-size:13px;cursor:pointer;transition:filter .15s;}
.grade-btn:hover{filter:brightness(.93);}
.grade-detail td{background:#f6f7ff;padding:6px 14px;font-size:13px;border-bottom:1px dashed var(--border);}
.grade-detail:last-child td{border-bottom:0;}
.note-list{list-style:none;margin:0;padding:0;}
.note-list li{display:grid;grid-template-columns:1fr 80px;gap:12px;padding:4px 0;}
.note-list .label{color:#374151;} .note-list .value{text-align:right;font-weight:600;}

/* ===== ASISTENCIAS ===== */
.att-page{display:grid;gap:20px;}
.att-row td{padding:12px 14px;border-bottom:1px solid var(--border);white-space:nowrap;}
.att-row:hover td{background:#f9fafb;}
.att-btn{display:flex;align-items:center;gap:6px;padding:8px 10px;border:0;border-radius:8px;
  background:#16a34a;color:#fff;font-size:13px;cursor:pointer;transition:filter .15s;}
.att-btn:hover{filter:brightness(.93);}
.bar-bg{position:relative;height:24px;border-radius:6px;background:#16a34a;overflow:hidden;}
.bar-miss{position:absolute;inset:0;background:#ef4444;}
.bar-label{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  font-weight:700;font-size:13px;color:#fff;}
.att-detail td{
  background:#f6f7ff;padding:6px 14px;font-size:13px;
  border-bottom:1px dashed var(--border);white-space:nowrap;
}
.att-detail:last-child td{border-bottom:0;}
.att-detail .date{font-weight:600;width:120px;color:#374151;}
.att-detail.ok  td{color:#16a34a;font-weight:600;}

/* ===== CURSOS ===== */
.courses-page{display:grid;gap:20px;}
.course-row td{padding:12px 14px;border-bottom:1px solid var(--border);white-space:nowrap;}
.course-row:hover td{background:#f9fafb;}
.course-btn{display:flex;align-items:center;gap:6px;padding:8px 10px;border:0;border-radius:8px;
  background:#16a34a;color:#fff;font-size:13px;cursor:pointer;transition:filter .15s;}
.course-btn:hover{filter:brightness(.93);}
.course-detail td{background:#f6f7ff;padding:6px 14px;font-size:13px;border-bottom:1px dashed var(--border);
  white-space:normal;word-wrap:break-word;}
.course-detail:last-child td{border-bottom:0;}
.course-detail .day{width:110px;} .course-detail .hour{width:100px;}

/* ===== RESPONSIVE ≤600 px ===== */
@media (max-width:600px){
  .grades-table,.att-table,.courses-table{min-width:100%;}
  .grade-row  td:nth-child(3),.att-row td:nth-child(3),.course-row td:nth-child(3){white-space:normal;}

  .grades-table thead th,.att-table thead th,.courses-table thead th,
  .grade-row td,.att-row td,.course-row td{padding:10px 8px;font-size:12px;}

  .grade-detail td,.att-detail td,.course-detail td{padding:4px 8px;font-size:12px;}
  .grade-btn,.att-btn,.course-btn{font-size:11px;padding:6px 8px;}
  .bar-bg{height:20px;}
  .note-list li{grid-template-columns:1fr 60px;font-size:12px;}
}


/* =========================================================
   PÁGINA TRÁMITES
   ========================================================= */
.proc-page{display:grid;gap:20px;}
.proc-wrapper{overflow-x:auto;scrollbar-gutter:stable both-edges;}

.proc-table{
  width:100%;min-width:680px;border-collapse:collapse;
  background:var(--panel);border:1px solid var(--border);
  border-radius:10px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.05);
}
.proc-table thead th{
  background:#f3f4f6;font-weight:700;color:#374151;
  padding:14px;text-align:left;border-bottom:2px solid var(--border);white-space:nowrap;
}
.proc-row td{
  padding:12px 14px;border-bottom:1px solid var(--border);white-space:nowrap;
}
.proc-row:hover td{background:#f9fafb;}

.proc-row td:last-child{              /* celda del botón */
  text-align:center;                  /* lo centramos, ya no se “estira” */
}
.proc-btn{
  display:inline-flex;align-items:center;gap:6px; /*flex*/
  padding:8px 10px;border-radius:8px;text-decoration:none;
  background:#15803d;color:#fff;font-size:13px;transition:filter .15s;
  justify-content:center;  
  width:auto; 
}
.proc-btn:hover{filter:brightness(.93);}

@media (max-width:600px){
  .proc-table{min-width:100%;}
  .proc-table thead th,.proc-row td{padding:10px 8px;font-size:12px;}
  .proc-btn{font-size:11px;padding:6px 8px;}
}

/* =========================================================
   PÁGINA PERSONAL
   ========================================================= */
.pers-page{display:grid;gap:26px;}

.pers-page h2{
  margin:0;font-size:18px;font-weight:700;text-align:center;
  text-transform:uppercase;color:#374151;
}

.form-grid{
  display:grid;gap:18px;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  background:var(--panel);padding:22px;border:1px solid var(--border);
  border-radius:10px;box-shadow:0 1px 3px rgba(0,0,0,.05);
}

.form-row{display:flex;flex-direction:column;gap:6px;}
.form-row label{font-weight:600;color:#374151;font-size:14px;}
.form-row input{
  padding:10px;border:1px solid var(--border);border-radius:6px;
  background:#fff;font-size:14px;
}
.form-row input[readonly]{background:#f3f4f6;color:#6b7280;cursor:not-allowed;}

.btn-row{text-align:center;}
.save-btn{
  display:inline-block;padding:10px 28px;border:0;border-radius:8px;
  background:#0d9488;color:#fff;font-size:15px;font-weight:600;
  cursor:pointer;transition:filter .15s;
}
.save-btn:hover{filter:brightness(.93);}

@media(max-width:600px){
  .form-grid{padding:14px;gap:14px;}
  .form-row label{font-size:13px;}
  .form-row input{padding:8px;font-size:13px;}
  .save-btn{font-size:14px;padding:8px 20px;}
}

/* ========================= RENDIMIENTO (tabla por módulo) ========================= */
.module-list { display: grid; gap: 16px; }


/* Tarjeta contenedora de cada módulo */
.module-card{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px;
}

/* Encabezado de la tarjeta del módulo */
.module-card .card-header{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom: 8px;
}
.module-card .card-header h3{ font-size:16px; font-weight:700; }

/* Wrapper de tabla (scroll horizontal si se achica) */
.grades-wrapper{ width:100%; overflow:auto; }

/* Reutilizamos tu look de tablas sin afectar Calificaciones:
   agregamos una clase 'rend-table' para aislar estilos */
.rend-table{
  width:100%;
  border-collapse: collapse;
  background: var(--panel);
  border-radius: 10px;
}
.rend-table thead th{
  font-weight:600; font-size:13px; color: var(--muted);
  text-align:left; padding:10px 12px;
  border-bottom:1px solid var(--border);
  white-space: nowrap;
}
.rend-table td{
  padding:10px 12px;
  border-bottom:1px solid var(--border);
}

/* Píldoras de estado (badges) */
.status-badge{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:999px; font-weight:600; font-size:12px;
  line-height:1; white-space:nowrap;
}
.status-badge.status-ok{      color:#166534; background:#dcfce7; } /* verde */
.status-badge.status-danger{  color:#991b1b; background:#fee2e2; } /* rojo  */
.status-badge.status-review{  color:#92400e; background:#ffedd5; } /* ámbar */
.status-badge.status-pending{ color:#1f2937; background:#e5e7eb; } /* gris  */

/* Pie de tarjeta (si hay botón de trámite) */
.module-card .card-footer{
  margin-top: 10px;
  display:flex; align-items:center; justify-content:flex-end;
}
.module-card .btn-primary{
  background:#002066; color:#fff; border:none; border-radius:8px;
  padding:8px 12px; font-weight:600; cursor:pointer;
}
.module-card .btn-primary:hover{ filter:brightness(1.05); }
.module-card .tramite-status{ font-weight:600; color:#1f2937; }

/* ===== Responsive Rendimiento ===== */
@media (max-width: 600px){
  /* Tarjeta más compacta */
  .module-card{
    padding: 10px;
    border-radius: 10px;
  }

  .module-card .card-header{
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
    margin-bottom: 6px;
  }
  .module-card .card-header h3{
    font-size: 15px;
  }

  /* Tabla más densa */
  .rend-table thead th,
  .rend-table td{
    padding: 8px 10px;
    font-size: 12px;
  }

  /* Ocultar la columna N° para ganar espacio en móviles */
  .rend-table thead th:nth-child(1),
  .rend-table td:nth-child(1){
    display: none;
  }

  /* Badges más compactos */
  .status-badge{
    font-size: 11px;
    padding: 3px 8px;
    gap: 5px;
  }
}












/* ====== Dashboard Inicio ====== */
.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 16px;
}
@media (max-width: 1024px) {
  .dashboard-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
  .dashboard-grid { grid-template-columns: 1fr; }
}

.stat-card {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}
.stat-title { font-size: 14px; color: var(--muted); }
.stat-value { font-size: 32px; font-weight: 700; margin-top: 8px; }
.stat-hint  { font-size: 12px; color: var(--muted); margin-top: 6px; }

.panel {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}
.panel-title { font-size: 16px; font-weight: 600; margin-bottom: 12px; }
.table-wrap { width: 100%; overflow: auto; }
.table { width: 100%; border-collapse: collapse; }
.table th, .table td { padding: 8px 12px; border-bottom: 1px solid var(--border); text-align: left; }

.mt { margin-top: 16px; }
.error { color: #b91c1c; }
